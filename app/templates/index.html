{% extends 'base.html' %}


{% block content %}
<!-- Hero Section with Real Typing Effect -->
<section class="hero">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-6 animate fade-in">
                <h1 class="animate slide-in mb-3" style="animation-delay: 0.2s;">Your Journey, Your Story</h1>
                
                <!-- Fixed height typing container to prevent layout shifts -->
                <div class="typing-container" style="height: 80px; margin-bottom: 1.5rem;">
                    <p id="typing-text" class="lead text-white fw-light"></p>
                </div>
                
                <div class="d-flex gap-3 animate slide-in align-items-center flex-wrap" style="animation-delay: 0.6s;">
                    {% if current_user.is_authenticated %}
                        <a href="{{ url_for('planner.create_plan') }}" class="btn btn-light btn-md">Plan a Trip</a>
                        <a href="{{ url_for('planner.recommend_destinations') }}" class="btn btn-primary btn-md pulse">Smart Recommendations</a>
                        <a href="{{ url_for('memories.create_memory') }}" class="btn btn-outline-light btn-md">Add a Memory</a>
                    {% else %}
                        <a href="{{ url_for('auth.register') }}" class="btn btn-light btn-md pulse">Get Started</a>
                        <a href="{{ url_for('auth.login') }}" class="btn btn-outline-light btn-md">Sign In</a>
                    {% endif %}
                </div>
            </div>
            <div class="col-lg-6 mt-5 mt-lg-0 animate zoom-in" style="animation-delay: 0.5s;">
                <!-- Hero image is already present in the background -->
            </div>
        </div>
    </div>
</section>

<!-- Features Section with Enhanced Animations -->
<section class="py-5">
    <div class="container">
        <h2 class="text-center mb-5 animate zoom-in">Experience the Ultimate Travel Platform</h2>
        <div class="row g-4">
            <div class="col-md-4">
                <div class="card h-100 stagger-item">
                    <div class="card-body text-center p-4">
                        <div class="feature-icon animate float">
                            <i class="fas fa-route"></i>
                        </div>
                        <h3 class="card-title h5">Intelligent Trip Planning</h3>
                        <p class="card-text">Create personalized travel itineraries based on your preferences, budget, and schedule.</p>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card h-100 stagger-item">
                    <div class="card-body text-center p-4">
                        <div class="feature-icon animate float" style="animation-delay: 0.3s;">
                            <i class="fas fa-camera-retro"></i>
                        </div>
                        <h3 class="card-title h5">Travel Memory Archive</h3>
                        <p class="card-text">Preserve and organize your travel photos, itineraries, and reflections in a beautiful digital collection.</p>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card h-100 stagger-item">
                    <div class="card-body text-center p-4">
                        <div class="feature-icon animate float" style="animation-delay: 0.6s;">
                            <i class="fas fa-share-alt"></i>
                        </div>
                        <h3 class="card-title h5">Selective Sharing</h3>
                        <p class="card-text">Share your travel plans and memories with friends, family, or keep them private - you decide.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- How It Works with Enhanced Animations -->
<section class="py-5 bg-light">
    <div class="container">
        <h2 class="text-center mb-5 animate zoom-in">How It Works</h2>
        <div class="row align-items-center mb-5">
            <div class="col-lg-6 animate slide-in">
                <h3 class="h4">Planning Your Next Adventure</h3>
                <p>Input your preferences, including destination, budget, and travel dates. Our intelligent system will generate a personalized itinerary with interactive maps and budget breakdowns.</p>
                <ul class="list-unstyled mb-4">
                    <li class="animate slide-in" style="animation-delay: 0.2s;"><i class="fas fa-check-circle text-success me-2"></i> Set your travel preferences</li>
                    <li class="animate slide-in" style="animation-delay: 0.4s;"><i class="fas fa-check-circle text-success me-2"></i> Get personalized recommendations</li>
                    <li class="animate slide-in" style="animation-delay: 0.6s;"><i class="fas fa-check-circle text-success me-2"></i> Visualize your journey on interactive maps</li>
                </ul>
                {% if current_user.is_authenticated %}
                    <a href="{{ url_for('planner.create_plan') }}" class="btn btn-primary animate pulse">Plan Your Trip</a>
                {% else %}
                    <a href="{{ url_for('auth.register') }}" class="btn btn-primary animate pulse">Get Started</a>
                {% endif %}
            </div>
            <div class="col-lg-6 animate zoom-in" style="animation-delay: 0.3s;">
                <img src="{{ url_for('static', filename='img/planning.png') }}" alt="Trip Planning" class="img-fluid rounded">
            </div>
        </div>
        <div class="row align-items-center flex-row-reverse">
            <div class="col-lg-6 animate slide-in-right" style="animation-delay: 0.2s;">
                <h3 class="h4">Preserving Your Travel Memories</h3>
                <p>Upload photos, write reflections, and record locations from your past trips. Our platform organizes them into a beautiful travel timeline and analyzes your preferences.</p>
                <ul class="list-unstyled mb-4">
                    <li class="animate slide-in-right" style="animation-delay: 0.2s;"><i class="fas fa-check-circle text-success me-2"></i> Upload travel photos and notes</li>
                    <li class="animate slide-in-right" style="animation-delay: 0.4s;"><i class="fas fa-check-circle text-success me-2"></i> Create a personal travel timeline</li>
                    <li class="animate slide-in-right" style="animation-delay: 0.6s;"><i class="fas fa-check-circle text-success me-2"></i> Discover your travel preferences and patterns</li>
                </ul>
                {% if current_user.is_authenticated %}
                    <a href="{{ url_for('memories.create_memory') }}" class="btn btn-primary animate pulse">Add a Memory</a>
                {% else %}
                    <a href="{{ url_for('auth.register') }}" class="btn btn-primary animate pulse">Get Started</a>
                {% endif %}
            </div>
            <div class="col-lg-6 animate zoom-in">
                <img src="{{ url_for('static', filename='img/memories.png') }}" alt="Travel Memories" class="img-fluid rounded">
            </div>
        </div>
    </div>
</section>

<!-- Call to Action -->
<section class="py-5 text-center">
    <div class="container">
        <div class="container-rounded py-5 animate fade-in">
            <h2 class="mb-4">Ready to Start Your Journey?</h2>
            <p class="lead mb-4">Join thousands of travelers who are planning trips and preserving memories with our platform.</p>
            <div class="d-flex justify-content-center gap-3">
                {% if current_user.is_authenticated %}
                    <a href="{{ url_for('main.dashboard') }}" class="btn btn-primary btn-lg px-4">Go to Dashboard</a>
                {% else %}
                    <a href="{{ url_for('auth.register') }}" class="btn btn-primary btn-lg px-4">Sign Up Now</a>
                    <a href="{{ url_for('auth.login') }}" class="btn btn-outline-primary btn-lg px-4">Login</a>
                {% endif %}
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block extra_js %}
<script>
$(document).ready(function() {
    // List of slogans to type
    const slogans = [
        "Plan your next adventure and preserve your travel memories all in one place.",
        "Discover hidden gems and create unforgettable travel stories.",
        "Turn your wanderlust into perfectly planned journeys.",
        "Capture moments, share experiences, remember forever.",
        "Your passport to seamless travel planning and memory keeping.",
        "Travel smarter, experience more, forget nothing.",
        "Every journey becomes a story worth preserving.",
        "From dream destinations to detailed itineraries in minutes."
    ];

    // Typing effect variables
    let currentSloganIndex = 0;
    let currentCharIndex = 0;
    let isDeleting = false;
    let typingSpeed = 50; // milliseconds per character
    let delayAfterTyping = 2000; // pause when slogan is fully typed
    let delayAfterDeleting = 500; // pause before typing next slogan

    // Element to display typing text
    const typingElement = document.getElementById("typing-text");

    function typeEffect() {
        const currentSlogan = slogans[currentSloganIndex];
        
        if (!isDeleting) {
            // Typing forward
            typingElement.textContent = currentSlogan.substring(0, currentCharIndex + 1);
            currentCharIndex++;
            
            // When finished typing
            if (currentCharIndex >= currentSlogan.length) {
                isDeleting = true;
                setTimeout(typeEffect, delayAfterTyping);
                return;
            }
            
            // Slight speed variation for natural effect
            typingSpeed = Math.random() * 30 + 40;
        } else {
            // Deleting
            typingElement.textContent = currentSlogan.substring(0, currentCharIndex);
            currentCharIndex--;
            
            // When finished deleting
            if (currentCharIndex < 0) {
                isDeleting = false;
                currentSloganIndex = (currentSloganIndex + 1) % slogans.length;
                setTimeout(typeEffect, delayAfterDeleting);
                return;
            }
            
            // Delete faster than typing
            typingSpeed = Math.random() * 20 + 20;
        }
        
        setTimeout(typeEffect, typingSpeed);
    }

    // Add cursor effect
    typingElement.classList.add('cursor-blink');
    
    // Start the typing effect
    setTimeout(typeEffect, 500);

    // Add animations on scroll
    function animateOnScroll() {
        $('.animate').each(function() {
            const elementTop = $(this).offset().top;
            const elementHeight = $(this).height();
            const windowHeight = $(window).height();
            const scrollY = window.scrollY || window.pageYOffset;
            
            // Add visible class when element enters viewport
            if (scrollY > elementTop - windowHeight + elementHeight/2) {
                $(this).addClass('visible');
            }
        });
    }
    
    // Trigger animations on scroll
    $(window).on('scroll', animateOnScroll);
    // Initial trigger
    animateOnScroll();
});
</script>
{% endblock %}
